/* Global styles for the library */

:root {
  /* Light theme colors */
  --bg-color: #ffffff;
  --bg-secondary: #f4f4f4;
  --text-color: #333333;
  --text-secondary: #666666;
  --border-color: #e0e0e0;
  --shadow-color: rgba(0, 0, 0, 0.1);
  --navbar-bg: #ffffff;
  --navbar-border: #e0e0e0;
  --link-color: #007bff;
  --link-hover: #0056b3;
  --button-bg: #ffffff;
  --button-border: #e0e0e0;
  --button-hover-bg: rgba(0, 123, 255, 0.05);
}

[data-theme="dark"] {
  /* Dark theme colors - improved contrast */
  --bg-color: #1a202c;
  --bg-secondary: #2d3748;
  --text-color: #f7fafc;
  --text-secondary: #e2e8f0;
  --border-color: #4a5568;
  --shadow-color: rgba(0, 0, 0, 0.4);
  --navbar-bg: #2d3748;
  --navbar-border: #4a5568;
  --link-color: #60a5fa;
  --link-hover: #93c5fd;
  --button-bg: #4a5568;
  --button-border: #718096;
  --button-hover-bg: rgba(96, 165, 250, 0.15);
}

body {
  font-family: sans-serif;
  margin: 0;
  padding: 0;
  background-color: var(--bg-secondary);
  color: var(--text-color);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Global dark mode styles */
[data-theme="dark"] {
  color-scheme: dark;
}

[data-theme="dark"] nav {
  background-color: var(--navbar-bg) !important;
  border-bottom-color: var(--navbar-border) !important;
  box-shadow: 0 2px 4px var(--shadow-color) !important;
}

[data-theme="dark"] .nav-links {
  background-color: var(--navbar-bg) !important;
}

[data-theme="dark"] .nav-links li a {
  color: var(--text-color) !important;
  border-bottom-color: var(--border-color) !important;
}

[data-theme="dark"] .nav-links li a:hover {
  background-color: var(--button-hover-bg) !important;
  color: var(--link-hover) !important;
}

[data-theme="dark"] .nav-links li a.active {
  background-color: var(--link-color) !important;
  color: var(--bg-color) !important;
}

[data-theme="dark"] .logo a {
  color: var(--link-color) !important;
}

[data-theme="dark"] .hamburger,
[data-theme="dark"] .theme-toggle {
  background: var(--button-bg) !important;
  border-color: var(--button-border) !important;
}

[data-theme="dark"] .hamburger:hover,
[data-theme="dark"] .theme-toggle:hover {
  border-color: var(--link-color) !important;
  background-color: var(--button-hover-bg) !important;
}

[data-theme="dark"] .hamburger .hamburger-inner,
[data-theme="dark"] .hamburger .hamburger-inner::before,
[data-theme="dark"] .hamburger .hamburger-inner::after {
  background-color: var(--text-color) !important;
}

/* Mobile Theme Toggle Dark Mode */
[data-theme="dark"] .mobile-theme-toggle {
  /* Remove border styling since we removed the border */
}

[data-theme="dark"] .theme-toggle-mobile {
  background: var(--button-bg) !important;
  border-color: var(--button-border) !important;
}

[data-theme="dark"] .theme-toggle-mobile:hover {
  border-color: var(--link-color) !important;
  background-color: var(--button-hover-bg) !important;
}

[data-theme="dark"] .sidebar-toggle {
  background: var(--button-bg) !important;
  border-color: var(--button-border) !important;
}

[data-theme="dark"] .sidebar-toggle:hover {
  border-color: var(--link-color) !important;
  background-color: var(--button-hover-bg) !important;
}

[data-theme="dark"] .sidebar-toggle .hamburger-inner,
[data-theme="dark"] .sidebar-toggle .hamburger-inner::before,
[data-theme="dark"] .sidebar-toggle .hamburger-inner::after {
  background-color: var(--text-color) !important;
}

[data-theme="dark"] #sidebar {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] .content-area {
  background-color: var(--bg-color);
}

[data-theme="dark"] .content-wrapper {
  background-color: var(--bg-color);
  color: var(--text-color);
}

/* PDF Viewer Dark Mode Styles */
[data-theme="dark"] .pdf-viewer-container {
  background-color: var(--bg-secondary) !important;
  color: var(--text-color) !important;
  border: 1px solid #374151 !important;
}

[data-theme="dark"] .pdf-controls {
  background-color: var(--button-bg) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] .pdf-controls button {
  background-color: #374151 !important;
  color: var(--text-color) !important;
  border: 1px solid #6b7280 !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .pdf-controls button:hover {
  background-color: #4b5563 !important;
  border-color: var(--link-color) !important;
}

[data-theme="dark"] .pdf-controls button:disabled {
  background-color: #1f2937 !important;
  color: #6b7280 !important;
  border-color: #374151 !important;
}

[data-theme="dark"] #pdf-canvas {
  border-color: #374151 !important;
}

[data-theme="dark"] .pdf-menu-overlay {
  background: rgba(0, 0, 0, 0.7) !important;
}

[data-theme="dark"] .pdf-menu-modal {
  background: var(--bg-secondary) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--border-color) !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5) !important;
}

[data-theme="dark"] .menu-header {
  background: var(--bg-secondary) !important;
  border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .menu-title {
  color: var(--text-color) !important;
  background: var(--bg-secondary) !important;
}

[data-theme="dark"] .menu-close-btn {
  color: var(--text-color) !important;
  background: transparent !important;
  border: none !important;
}

[data-theme="dark"] .menu-close-btn:hover {
  background: var(--button-hover-bg) !important;
  color: var(--link-color) !important;
}

/* PDF Menu Content Dark Mode Styling */
[data-theme="dark"] .menu-content {
  background: var(--bg-secondary) !important;
  color: var(--text-color) !important;
}

[data-theme="dark"] .menu-controls {
  background: transparent !important;
}

[data-theme="dark"] .control-row {
  border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .menu-options {
  background: transparent !important;
}

[data-theme="dark"] .menu-option {
  background: transparent !important;
  color: var(--text-color) !important;
}

[data-theme="dark"] .menu-option:hover {
  background: rgba(96, 165, 250, 0.15) !important;
  border-radius: 4px !important;
}

[data-theme="dark"] .menu-option:hover .option-text {
  color: var(--link-color) !important;
}

[data-theme="dark"] .menu-option:hover .option-icon {
  filter: brightness(1.3) !important;
}

[data-theme="dark"] .menu-option input[type="radio"]:checked + .option-icon + .option-text {
  color: var(--link-color) !important;
  font-weight: 600 !important;
}

/* Additional PDF Menu Modal Elements */
[data-theme="dark"] .option-icon {
  filter: brightness(1.2) !important;
}

[data-theme="dark"] .menu-option label {
  color: var(--text-color) !important;
}

[data-theme="dark"] .menu-option input[type="checkbox"]:checked + .option-text {
  color: var(--link-color) !important;
}


[data-theme="dark"] .menu-section:not(:last-child) {
  border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .menu-section {
  border-bottom-color: var(--border-color) !important;
}

[data-theme="dark"] .menu-section-title {
  color: var(--text-color) !important;
  font-weight: 600 !important;
}

[data-theme="dark"] .option-text {
  color: var(--text-color) !important;
  font-weight: 500 !important;
}

[data-theme="dark"] .control-label {
  color: var(--text-color) !important;
  font-weight: 500 !important;
}

/* Additional text elements for better readability */
[data-theme="dark"] .menu-option span {
  color: var(--text-color) !important;
}

[data-theme="dark"] .menu-section h4 {
  color: var(--text-color) !important;
  font-weight: 600 !important;
}

[data-theme="dark"] .menu-content * {
  color: var(--text-color) !important;
}

[data-theme="dark"] .menu-controls * {
  color: var(--text-color) !important;
}

/* Specific styling for Highlight label and color picker */
[data-theme="dark"] .control-row label.control-label {
  color: var(--text-color) !important;
  font-weight: 500 !important;
}

[data-theme="dark"] #highlight-color {
  background: #374151 !important;
  border: 1px solid #6b7280 !important;
  border-radius: 4px !important;
}

[data-theme="dark"] .color-picker:focus {
  border-color: var(--link-color) !important;
  outline: none !important;
  box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.2) !important;
}


[data-theme="dark"] .menu-select {
  background: #374151 !important;
  border: 1px solid #6b7280 !important;
  color: var(--text-color) !important;
  border-radius: 4px !important;
  padding: 6px 8px !important;
}

[data-theme="dark"] .menu-select:focus {
  border-color: var(--link-color) !important;
  outline: none !important;
  box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.2) !important;
}

[data-theme="dark"] .menu-select option {
  background: #374151 !important;
  color: var(--text-color) !important;
  border: none !important;
}

[data-theme="dark"] .menu-select option:hover {
  background: #4b5563 !important;
}

[data-theme="dark"] .menu-select option:checked {
  background: var(--link-color) !important;
  color: #1a202c !important;
}

[data-theme="dark"] #voice-selector,
[data-theme="dark"] #speed-selector,
[data-theme="dark"] #pitch-selector {
  background: #374151 !important;
  border: 1px solid #6b7280 !important;
  color: var(--text-color) !important;
  border-radius: 4px !important;
}

[data-theme="dark"] #voice-selector option,
[data-theme="dark"] #speed-selector option,
[data-theme="dark"] #pitch-selector option {
  background: #374151 !important;
  color: var(--text-color) !important;
}

[data-theme="dark"] .menu-control-btn {
  background: #374151 !important;
  color: var(--text-color) !important;
  border: 1px solid #6b7280 !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .menu-control-btn:hover {
  background-color: #4b5563 !important;
  border-color: var(--link-color) !important;
}

[data-theme="dark"] .color-picker {
  background: #374151 !important;
  border: 1px solid #6b7280 !important;
}

[data-theme="dark"] input[type="checkbox"] {
  accent-color: var(--link-color) !important;
}

[data-theme="dark"] input[type="radio"] {
  accent-color: var(--link-color) !important;
}

[data-theme="dark"] .page-indicator {
  color: var(--text-color) !important;
  background: #374151 !important;
  border: 1px solid #6b7280 !important;
}

[data-theme="dark"] .zoom-level-display {
  color: var(--text-color) !important;
  background: #374151 !important;
  border: 1px solid #6b7280 !important;
  padding: 4px 8px !important;
  border-radius: 4px !important;
}

[data-theme="dark"] .zoom-button {
  background: #374151 !important;
  color: var(--text-color) !important;
  border: 1px solid #6b7280 !important;
}

[data-theme="dark"] .zoom-button:hover {
  background: #4b5563 !important;
  border-color: var(--link-color) !important;
}

[data-theme="dark"] .menu-button {
  background: #374151 !important;
  color: var(--text-color) !important;
  border: 1px solid #6b7280 !important;
}

[data-theme="dark"] .menu-button:hover {
  background: #4b5563 !important;
  border-color: var(--link-color) !important;
}

[data-theme="dark"] .page-input-container input {
  background: #374151 !important;
  color: var(--text-color) !important;
  border: 1px solid #6b7280 !important;
}

[data-theme="dark"] .page-input-container button {
  background: #374151 !important;
  color: var(--text-color) !important;
  border: 1px solid #6b7280 !important;
}

[data-theme="dark"] .page-input-container button:hover {
  background: #4b5563 !important;
  border-color: var(--link-color) !important;
}

/* Menu Info Dark Mode Styles */
[data-theme="dark"] .menu-info {
  background: #2d3748 !important;
  border: 1px solid #4a5568 !important;
  color: var(--text-color) !important;
}

[data-theme="dark"] .menu-info p {
  color: var(--text-color) !important;
}

[data-theme="dark"] .menu-info ul {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .menu-info li {
  color: var(--text-secondary) !important;
}

/* Footer Dark Mode Styles */
[data-theme="dark"] footer {
  background-color: var(--bg-secondary) !important;
  color: var(--text-color) !important;
  border-top-color: var(--border-color) !important;
}

[data-theme="dark"] .column h5 {
  color: var(--link-color) !important;
}

[data-theme="dark"] .column li a {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .column li a:hover {
  color: var(--link-hover) !important;
}

[data-theme="dark"] .copyright {
  color: var(--text-secondary) !important;
  border-top-color: var(--border-color) !important;
}

/* Home Page Dark Mode Styles */
[data-theme="dark"] h1 {
  color: var(--text-color) !important;
}

[data-theme="dark"] .intro-text {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .cta-button {
  background-color: var(--link-color) !important;
  color: var(--bg-color) !important;
}

[data-theme="dark"] .cta-button:hover,
[data-theme="dark"] .cta-button:focus {
  background-color: var(--link-hover) !important;
}


/* Library Page Dark Mode Styles */
[data-theme="dark"] .library-welcome-page h2 {
  color: var(--text-color) !important;
}

[data-theme="dark"] .library-welcome-page .intro-text {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .item-card {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

[data-theme="dark"] .item-card:hover {
  box-shadow: 0 5px 15px var(--shadow-color) !important;
}

[data-theme="dark"] .item-card h4 {
  color: var(--link-color) !important;
}

[data-theme="dark"] .item-card .cta-text {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .item-card .explore-link {
  color: var(--link-color) !important;
}

/* Sidebar Dark Mode Styles */
[data-theme="dark"] #sidebar {
  background-color: var(--bg-secondary) !important;
  border-right-color: var(--border-color) !important;
}

[data-theme="dark"] #sidebar h4 {
  color: var(--text-color) !important;
}

[data-theme="dark"] .sidebar-nav-item {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .sidebar-nav-item:hover {
  color: var(--link-color) !important;
}

[data-theme="dark"] .sidebar-nav-item.active {
  color: var(--link-color) !important;
}

[data-theme="dark"] .category-title-link {
  color: var(--text-color) !important;
}

[data-theme="dark"] .category-title-link:hover {
  color: var(--link-color) !important;
}

[data-theme="dark"] .category-title-link.active {
  color: var(--link-color) !important;
}

[data-theme="dark"] .submenu li a {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .submenu li a:hover {
  color: var(--link-hover) !important;
}

[data-theme="dark"] .submenu li a.active {
  color: var(--link-hover) !important;
}

[data-theme="dark"] .chevron-icon {
  color: var(--text-secondary) !important;
}

/* Book Detail Pages Dark Mode Styles */
[data-theme="dark"] .book-detail {
  background-color: var(--bg-color) !important;
  box-shadow: 0 2px 10px var(--shadow-color) !important;
}

[data-theme="dark"] .book-detail h1 {
  color: var(--text-color) !important;
}

[data-theme="dark"] .author {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .summary {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .pdf-embed-container {
  border-color: #374151 !important;
  background-color: var(--bg-secondary) !important;
}

/* General text and content improvements for dark mode */
[data-theme="dark"] p {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] em {
  color: var(--text-secondary) !important;
}


[data-theme="dark"] .status-message.warning {
  background: #2d1b0e !important;
  border: 1px solid #d97706 !important;
  color: #fbbf24 !important;
}

[data-theme="dark"] .status-message.error {
  background: #2d1b1b !important;
  border: 1px solid #dc2626 !important;
  color: #fca5a5 !important;
}

[data-theme="dark"] .status-message code {
  background: rgba(255, 255, 255, 0.1) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .status-message strong {
  color: var(--text-color) !important;
}

[data-theme="dark"] .status-message a {
  color: var(--link-color) !important;
}

[data-theme="dark"] .status-message a:hover {
  color: var(--link-hover) !important;
}
